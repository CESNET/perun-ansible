---
#  Ad-hoc role for upgrading Shibboleth to version 3
#  run with:
#  ansible-playbook -i inventories/all --ask-vault-pass update-shib3.yml

- hosts:
    - perun-servers
    - proxy-idps
  remote_user: root
  pre_tasks:
    - name: Require Debian
      assert:
        that:
          - ansible_distribution == "Debian"
          - ansible_distribution_major_version in [ "9" ]
        msg: "Only Debian 9"
  roles:
    #
    # This role will set working environment to a sensible state.
    - { role: upgrade-shib3 }
    #
